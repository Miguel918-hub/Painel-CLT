local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Configura√ß√µes
local PANEL_IMAGE = "rbxassetid://18225848947"
local BUTTON_IMAGE = "rbxassetid://18225848947"
local SKY_ID = "rbxassetid://70987667979846"
local MUSIC_ID = "rbxassetid://82593963902746"
local PARTICLE_IMAGE = "rbxassetid://131230276944345"

-- Vari√°veis locais
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local dragging = false
local dragInput, dragStart, startPos

-- Criar a GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CLTPanelGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Painel principal
local mainFrame = Instance.new("Frame")
mainFrame.Name = "CLTPanel"
mainFrame.Size = UDim2.new(0, 350, 0, 400)
mainFrame.Position = UDim2.new(0.5, -175, 0.5, -200)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.fromRGB(0, 170, 255)
mainFrame.Active = true
mainFrame.Draggable = false
mainFrame.Parent = screenGui

-- Imagem do painel
local panelImage = Instance.new("ImageLabel")
panelImage.Name = "PanelImage"
panelImage.Size = UDim2.new(1, 0, 0, 80)
panelImage.Position = UDim2.new(0, 0, 0, 0)
panelImage.BackgroundTransparency = 1
panelImage.Image = PANEL_IMAGE
panelImage.ScaleType = Enum.ScaleType.Fit
panelImage.Parent = mainFrame

-- T√≠tulo do painel
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "Title"
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.Position = UDim2.new(0, 0, 0, 85)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "PAINEL CLT"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.SciFi
titleLabel.Parent = mainFrame

-- Cr√©ditos
local creditsLabel = Instance.new("TextLabel")
creditsLabel.Name = "Credits"
creditsLabel.Size = UDim2.new(1, 0, 0, 20)
creditsLabel.Position = UDim2.new(0, 0, 0, 115)
creditsLabel.BackgroundTransparency = 1
creditsLabel.Text = "Credits: Join Today Team CLT"
creditsLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
creditsLabel.TextSize = 14
creditsLabel.Font = Enum.Font.SourceSans
creditsLabel.Parent = mainFrame

-- Bot√£o de fechar/abrir
local toggleButton = Instance.new("ImageButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0, 30, 0, 30)
toggleButton.Position = UDim2.new(1, -35, 0, 5)
toggleButton.BackgroundTransparency = 1
toggleButton.Image = BUTTON_IMAGE
toggleButton.Parent = screenGui

-- Bot√£o SKY CLT
local skyButton = Instance.new("TextButton")
skyButton.Name = "SkyButton"
skyButton.Size = UDim2.new(0.8, 0, 0, 40)
skyButton.Position = UDim2.new(0.1, 0, 0, 150)
skyButton.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
skyButton.Text = "SKY? CLT"
skyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
skyButton.TextSize = 18
skyButton.Font = Enum.Font.SciFi
skyButton.Parent = mainFrame

-- Bot√£o M√∫sica
local musicButton = Instance.new("TextButton")
musicButton.Name = "MusicButton"
musicButton.Size = UDim2.new(0.8, 0, 0, 40)
musicButton.Position = UDim2.new(0.1, 0, 0, 200)
musicButton.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
musicButton.Text = "toque esta m√∫sica"
musicButton.TextColor3 = Color3.fromRGB(255, 255, 255)
musicButton.TextSize = 18
musicButton.Font = Enum.Font.SciFi
musicButton.Parent = mainFrame

-- Bot√£o Error CLT
local errorButton = Instance.new("TextButton")
errorButton.Name = "ErrorButton"
errorButton.Size = UDim2.new(0.8, 0, 0, 40)
errorButton.Position = UDim2.new(0.1, 0, 0, 250)
errorButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
errorButton.Text = "Error CLT üòà"
errorButton.TextColor3 = Color3.fromRGB(255, 255, 255)
errorButton.TextSize = 18
errorButton.Font = Enum.Font.SciFi
errorButton.Parent = mainFrame

-- Bot√£o CLT SPAM
local spamButton = Instance.new("TextButton")
spamButton.Name = "SpamButton"
spamButton.Size = UDim2.new(0.8, 0, 0, 40)
spamButton.Position = UDim2.new(0.1, 0, 0, 300)
spamButton.BackgroundColor3 = Color3.fromRGB(170, 0, 255)
spamButton.Text = "CLT SPAM"
spamButton.TextColor3 = Color3.fromRGB(255, 255, 255)
spamButton.TextSize = 18
spamButton.Font = Enum.Font.SciFi
spamButton.Parent = mainFrame

-- Fun√ß√£o para arrastar o painel
local function updateInput(input)
	local delta = input.Position - dragStart
	mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

mainFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = mainFrame.Position
		
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

mainFrame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		updateInput(input)
	end
end)

-- Fun√ß√£o para alterar o c√©u
local function changeSky()
	local lighting = game:GetService("Lighting")
	lighting.Sky.SkyboxBk = SKY_ID
	lighting.Sky.SkyboxDn = SKY_ID
	lighting.Sky.SkyboxFt = SKY_ID
	lighting.Sky.SkyboxLf = SKY_ID
	lighting.Sky.SkyboxRt = SKY_ID
	lighting.Sky.SkyboxUp = SKY_ID
end

-- Fun√ß√£o para tocar m√∫sica
local function playMusic()
	local sound = Instance.new("Sound")
	sound.SoundId = MUSIC_ID
	sound.Parent = player.Character:FindFirstChild("Head") or workspace
	sound:Play()
	
	-- Fazer o som ser apenas local (3D)
	sound.RollOffMode = Enum.RollOffMode.InverseTapered
	sound.MaxDistance = 5
end

-- Fun√ß√£o para mostrar mensagem de erro
local function showError()
	local message = Instance.new("Message")
	message.Text = "Join Team CLT Today"
	message.Parent = workspace
	wait(5)
	message:Destroy()
end

-- Fun√ß√£o para criar part√≠culas
local function createParticles()
	local character = player.Character
	if character then
		for _, part in pairs(character:GetChildren()) do
			if part:IsA("BasePart") then
				local particleEmitter = Instance.new("ParticleEmitter")
				particleEmitter.Texture = PARTICLE_IMAGE
				particleEmitter.Rate = 50
				particleEmitter.Speed = NumberRange.new(5, 10)
				particleEmitter.Lifetime = NumberRange.new(1, 3)
				particleEmitter.Size = NumberSequence.new({
					NumberSequenceKeypoint.new(0, 0.5),
					NumberSequenceKeypoint.new(1, 0.2)
				})
				particleEmitter.Parent = part
				
				-- Remover ap√≥s alguns segundos
				game:GetService("Debris"):AddItem(particleEmitter, 10)
			end
		end
	end
end

-- Conectar eventos dos bot√µes
toggleButton.MouseButton1Click:Connect(function()
	mainFrame.Visible = not mainFrame.Visible
end)

skyButton.MouseButton1Click:Connect(function()
	changeSky()
end)

musicButton.MouseButton1Click:Connect(function()
	playMusic()
end)

errorButton.MouseButton1Click:Connect(function()
	showError()
end)

spamButton.MouseButton1Click:Connect(function()
	createParticles()
end)

-- Posicionar o bot√£o de toggle pr√≥ximo ao painel
local function updateToggleButtonPosition()
	toggleButton.Position = UDim2.new(
		0, 
		mainFrame.AbsolutePosition.X + mainFrame.AbsoluteSize.X - 25,
		0,
		mainFrame.AbsolutePosition.Y + 5
	)
end

-- Atualizar a posi√ß√£o do bot√£o de toggle quando o painel se move
mainFrame:GetPropertyChangedSignal("AbsolutePosition"):Connect(updateToggleButtonPosition)
mainFrame:GetPropertyChangedSignal("AbsoluteSize"):Connect(updateToggleButtonPosition)

-- Posicionar inicialmente
updateToggleButtonPosition()
